import React, { Component } from 'react';
import {
  StyleSheet,
  Text,
  View,
  TextInput,
  AppRegistry,
  Button,
  TouchableHighlight,
  ScrollView,
  Image,
  Alert
} from 'react-native';

export default class LoginView extends Component {

  constructor(props) {
    super(props);
    this.state = {
       name:'',
       mo_no:'',
       email   : '',
       username:'',
       password: ''
    }
  }

  UserRegistrationFunction = () =>{
 
 
   const { name }  = this.state ;
   const { mo_no}  = this.state ;
   const { email }  = this.state ;
   const {username }  = this.state ;
   const { password }  = this.state ;

   
   
   
  // fetch('localhost/ngoapp/user_registration.php', {
    fetch('http://192.168.42.250/ngoapp/user_registration.php', {
    method: 'POST',
    headers: {
      'Accept': 'application/json',
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
   
      name: name,
      mo_no:mo_no,
      email  : email,
      username: username,
      password: password
   
    })
   
  }).then((response) => response.json())
        .then((responseJson) => {
   
  // Showing response message coming from server after inserting records.
          Alert.alert(responseJson);
   
        }).catch((error) => {
          console.error(error);
        });
   
   
    }


  
 render() {
    return (
 
<View style={styles.MainContainer}>

        <Text style= {{ fontSize: 20, color: "#000", textAlign: 'center', marginBottom: 15 }}>User Registration Form</Text>
  
        <TextInput
          
          // Adding hint in Text Input using Place holder.
          placeholder="Enter Name"
          onChangeText={name => this.setState({name})}
          // Making the Under line Transparent.
          underlineColorAndroid='transparent'
          style={styles.TextInputStyleClass}
        />
 
        <TextInput
          
          // Adding hint in Text Input using Place holder.
          placeholder="Enter Mobile Number"
          onChangeText={mo_no => this.setState({mo_no})}
          // Making the Under line Transparent.
          underlineColorAndroid='transparent'
          style={styles.TextInputStyleClass}
        />
 
        <TextInput
          
          // Adding hint in Text Input using Place holder.
          placeholder="Enter User Email"
 
          onChangeText={email => this.setState({email})}
 
          // Making the Under line Transparent.
          underlineColorAndroid='transparent'
 
          style={styles.TextInputStyleClass}

          secureTextEntry={true}
        />

<TextInput
          
          // Adding hint in Text Input using Place holder.
          placeholder="Enter Username"
 
          onChangeText={username => this.setState({username})}
 
          // Making the Under line Transparent.
          underlineColorAndroid='transparent'
 
          style={styles.TextInputStyleClass}

          secureTextEntry={true}
        />

<TextInput
          
          // Adding hint in Text Input using Place holder.
          placeholder="Enter User Password"
 
          onChangeText={password => this.setState({password})}
 
          // Making the Under line Transparent.
          underlineColorAndroid='transparent'
 
          style={styles.TextInputStyleClass}

          secureTextEntry={true}
        />
 
        <Button title="Click Here To Register" onPress={this.UserRegistrationFunction} color="#2196F3" />
      
        
 
</View>
          
    
  
      
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#DCDCDC',
  },
  inputContainer: {
      borderBottomColor: '#F5FCFF',
      backgroundColor: '#FFFFFF',
      borderRadius:30,
      borderBottomWidth: 1,
      width:250,
      height:45,
      marginBottom:20,
      flexDirection: 'row',
      alignItems:'center'
  },
  inputs:{
      height:45,
      marginLeft:16,
      borderBottomColor: '#FFFFFF',
      flex:1,
  },
  inputIcon:{
    width:30,
    height:30,
    marginLeft:15,
    justifyContent: 'center'
  },
  buttonContainer: {
    height:45,
    flexDirection: 'row',
    justifyContent: 'center',
    alignItems: 'center',
    marginBottom:20,
    width:250,
    borderRadius:30,
  },
  loginButton: {
  backgroundColor:'red'// "#00b5ec",
  },
  loginText: {
    color: 'white',
  }
});
 

// import React, { Component } from 'react';


// import { View } from 'react-native';
// import TabNavigator from './src/screens/TabNavigator';
// //import One from './src/screens/one'
// import Splash from './src/screens/Splash'
// //import TabNavigator from './src/screens/TabNavigator';
// export default class App extends Component{

//     render() {

//             return(

//                <Splash/>
 
//             )
//         }
//  }


